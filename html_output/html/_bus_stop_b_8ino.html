<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: BusStopB/BusStopB.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8d1b1a9ab666e42fd9e8c01b5ff3d59a.html">BusStopB</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">BusStopB.ino File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;MD_MAX72xx.h&gt;</code><br />
<code>#include &lt;MD_Parola.h&gt;</code><br />
<code>#include &lt;SPI.h&gt;</code><br />
<code>#include &lt;WiFi.h&gt;</code><br />
<code>#include &lt;esp_now.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_message.html">Message</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to send data.  <a href="struct_message.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstruct__message.html">struct_message</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for sending and receiving data.  <a href="structstruct__message.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4e132cfaa78353e3af1474a86b2dd535"><td class="memItemLeft" align="right" valign="top"><a id="a4e132cfaa78353e3af1474a86b2dd535" name="a4e132cfaa78353e3af1474a86b2dd535"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_DEVICES</b>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:a4e132cfaa78353e3af1474a86b2dd535"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of devices. <br /></td></tr>
<tr class="separator:a4e132cfaa78353e3af1474a86b2dd535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40f496979bb9d7199cca5e0ce136e698"><td class="memItemLeft" align="right" valign="top"><a id="a40f496979bb9d7199cca5e0ce136e698" name="a40f496979bb9d7199cca5e0ce136e698"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CLK_PIN</b>&#160;&#160;&#160;18</td></tr>
<tr class="memdesc:a40f496979bb9d7199cca5e0ce136e698"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pin for the clock signal. <br /></td></tr>
<tr class="separator:a40f496979bb9d7199cca5e0ce136e698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad67fe595ea440c8f8247ec2cddf070"><td class="memItemLeft" align="right" valign="top"><a id="adad67fe595ea440c8f8247ec2cddf070" name="adad67fe595ea440c8f8247ec2cddf070"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DATA_PIN</b>&#160;&#160;&#160;23</td></tr>
<tr class="memdesc:adad67fe595ea440c8f8247ec2cddf070"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pin for the data signal. <br /></td></tr>
<tr class="separator:adad67fe595ea440c8f8247ec2cddf070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfcf05153ddbd63d5aff5d018867cc19"><td class="memItemLeft" align="right" valign="top"><a id="abfcf05153ddbd63d5aff5d018867cc19" name="abfcf05153ddbd63d5aff5d018867cc19"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CS_PIN</b>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:abfcf05153ddbd63d5aff5d018867cc19"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pin for the chip select signal. <br /></td></tr>
<tr class="separator:abfcf05153ddbd63d5aff5d018867cc19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04988e7d812ffad244fd37a708b92536"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a04988e7d812ffad244fd37a708b92536">HARDWARE_TYPE</a>&#160;&#160;&#160;    MD_MAX72XX::PAROLA_HW</td></tr>
<tr class="separator:a04988e7d812ffad244fd37a708b92536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6821bafc3c88dfb2e433a095df9940c6"><td class="memItemLeft" align="right" valign="top"><a id="a6821bafc3c88dfb2e433a095df9940c6" name="a6821bafc3c88dfb2e433a095df9940c6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BUF_SIZE</b>&#160;&#160;&#160;75</td></tr>
<tr class="memdesc:a6821bafc3c88dfb2e433a095df9940c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the buffer. <br /></td></tr>
<tr class="separator:a6821bafc3c88dfb2e433a095df9940c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:add81b616c060a3c276b7dee4fcd54e9f"><td class="memItemLeft" align="right" valign="top"><a id="add81b616c060a3c276b7dee4fcd54e9f" name="add81b616c060a3c276b7dee4fcd54e9f"></a>
typedef struct <a class="el" href="structstruct__message.html">struct_message</a>&#160;</td><td class="memItemRight" valign="bottom"><b>struct_message</b></td></tr>
<tr class="separator:add81b616c060a3c276b7dee4fcd54e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2f6799cc71dd2e1b8819f1980b317329"><td class="memItemLeft" align="right" valign="top">void IRAM_ATTR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a2f6799cc71dd2e1b8819f1980b317329">handleInterrupt</a> ()</td></tr>
<tr class="memdesc:a2f6799cc71dd2e1b8819f1980b317329"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt service routine for handling button press.  <br /></td></tr>
<tr class="separator:a2f6799cc71dd2e1b8819f1980b317329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d625a83130ab1624dd3305610963b08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a5d625a83130ab1624dd3305610963b08">send_data</a> (const uint8_t *pucPeerAddr, const uint8_t *pucData, size_t uiLen)</td></tr>
<tr class="memdesc:a5d625a83130ab1624dd3305610963b08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data to a peer device over ESP-NOW.  <br /></td></tr>
<tr class="separator:a5d625a83130ab1624dd3305610963b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b722f4799b9a1b4cffc1b5876bc367"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#ad2b722f4799b9a1b4cffc1b5876bc367">UpdateInterrupt</a> (int iBusIndex, int iBusStop, int iStopID)</td></tr>
<tr class="memdesc:ad2b722f4799b9a1b4cffc1b5876bc367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the estimated time of arrival for a bus at a stop.  <br /></td></tr>
<tr class="separator:ad2b722f4799b9a1b4cffc1b5876bc367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8586a1977845ff45a0ee0d5852763e81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a8586a1977845ff45a0ee0d5852763e81">UpdateEstimated</a> ()</td></tr>
<tr class="memdesc:a8586a1977845ff45a0ee0d5852763e81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the estimated time of arrival for all buses and returns the minimum.  <br /></td></tr>
<tr class="separator:a8586a1977845ff45a0ee0d5852763e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acefe9c2135b3617fe25eff3897551c87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#acefe9c2135b3617fe25eff3897551c87">OnDataRecv</a> (const uint8_t *pucMac, const uint8_t *pucIncomingData, int iLen)</td></tr>
<tr class="memdesc:acefe9c2135b3617fe25eff3897551c87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function that is executed when data is received.  <br /></td></tr>
<tr class="separator:acefe9c2135b3617fe25eff3897551c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eee811cfe0d4a8ad6ddb6e6b6ec6027"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a7eee811cfe0d4a8ad6ddb6e6b6ec6027">OnDataSent</a> (const uint8_t *pucMacAddr, esp_now_send_status_t eStatus)</td></tr>
<tr class="memdesc:a7eee811cfe0d4a8ad6ddb6e6b6ec6027"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function that is executed when data is sent.  <br /></td></tr>
<tr class="separator:a7eee811cfe0d4a8ad6ddb6e6b6ec6027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="memdesc:a4fc01d736fe50cf5b977f755b675f11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup function for the Arduino sketch.  <br /></td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3971e219fb69093f8cbc4484bd36a080"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a3971e219fb69093f8cbc4484bd36a080">scroll</a> ()</td></tr>
<tr class="memdesc:a3971e219fb69093f8cbc4484bd36a080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scrolls the text on the display.  <br /></td></tr>
<tr class="separator:a3971e219fb69093f8cbc4484bd36a080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:afe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main loop function for the Arduino sketch.  <br /></td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a493e81ea8983e0f797dc47c3f65cf9c0"><td class="memItemLeft" align="right" valign="top">MD_Parola&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a493e81ea8983e0f797dc47c3f65cf9c0">P</a></td></tr>
<tr class="memdesc:a493e81ea8983e0f797dc47c3f65cf9c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of the MD_Parola class.  <br /></td></tr>
<tr class="separator:a493e81ea8983e0f797dc47c3f65cf9c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08fc144fdb4de72197adeddc09cc38b8"><td class="memItemLeft" align="right" valign="top"><a id="a08fc144fdb4de72197adeddc09cc38b8" name="a08fc144fdb4de72197adeddc09cc38b8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>g_iStop</b> = 0</td></tr>
<tr class="memdesc:a08fc144fdb4de72197adeddc09cc38b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop variable. <br /></td></tr>
<tr class="separator:a08fc144fdb4de72197adeddc09cc38b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac15c928c6250e10cf28e4857b0641ff"><td class="memItemLeft" align="right" valign="top"><a id="aac15c928c6250e10cf28e4857b0641ff" name="aac15c928c6250e10cf28e4857b0641ff"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>g_uiScrollSpeed</b> = 25</td></tr>
<tr class="memdesc:aac15c928c6250e10cf28e4857b0641ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">The speed of the scroll. <br /></td></tr>
<tr class="separator:aac15c928c6250e10cf28e4857b0641ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05438a16b4a6471e2a62f7d75de8dc3f"><td class="memItemLeft" align="right" valign="top">textEffect_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a05438a16b4a6471e2a62f7d75de8dc3f">g_eScrollEffect</a></td></tr>
<tr class="memdesc:a05438a16b4a6471e2a62f7d75de8dc3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The effect of the scroll.  <br /></td></tr>
<tr class="separator:a05438a16b4a6471e2a62f7d75de8dc3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a373b79a402969f81b41e2b167fc2e096"><td class="memItemLeft" align="right" valign="top">textPosition_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a373b79a402969f81b41e2b167fc2e096">g_eScrollAlign</a></td></tr>
<tr class="memdesc:a373b79a402969f81b41e2b167fc2e096"><td class="mdescLeft">&#160;</td><td class="mdescRight">The alignment of the scroll.  <br /></td></tr>
<tr class="separator:a373b79a402969f81b41e2b167fc2e096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487b5baa75ea6db15433aa58c4a833c9"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a487b5baa75ea6db15433aa58c4a833c9">g_uiScrollPause</a></td></tr>
<tr class="memdesc:a487b5baa75ea6db15433aa58c4a833c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pause time of the scroll in milliseconds.  <br /></td></tr>
<tr class="separator:a487b5baa75ea6db15433aa58c4a833c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71aeeaabe068a1e1da5389d40c3ac9dc"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a71aeeaabe068a1e1da5389d40c3ac9dc">g_szCurMessage</a> [<a class="el" href="_bus_stop_a_8ino.html#a6821bafc3c88dfb2e433a095df9940c6">BUF_SIZE</a>]</td></tr>
<tr class="memdesc:a71aeeaabe068a1e1da5389d40c3ac9dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current message.  <br /></td></tr>
<tr class="separator:a71aeeaabe068a1e1da5389d40c3ac9dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb895d9f9adb03cf238f60e4e6507458"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#acb895d9f9adb03cf238f60e4e6507458">g_szNewMessage</a> [<a class="el" href="_bus_stop_a_8ino.html#a6821bafc3c88dfb2e433a095df9940c6">BUF_SIZE</a>]</td></tr>
<tr class="memdesc:acb895d9f9adb03cf238f60e4e6507458"><td class="mdescLeft">&#160;</td><td class="mdescRight">The new message.  <br /></td></tr>
<tr class="separator:acb895d9f9adb03cf238f60e4e6507458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacd729c61a1ec29fa63624253522b090"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#aacd729c61a1ec29fa63624253522b090">g_bNewMessageAvailable</a></td></tr>
<tr class="memdesc:aacd729c61a1ec29fa63624253522b090"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to check if a new message is available.  <br /></td></tr>
<tr class="separator:aacd729c61a1ec29fa63624253522b090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c1accbfe62ec25a06a7b6a286088f4"><td class="memItemLeft" align="right" valign="top"><a id="a94c1accbfe62ec25a06a7b6a286088f4" name="a94c1accbfe62ec25a06a7b6a286088f4"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>g_szBuffer</b> [3] = &quot; &quot;</td></tr>
<tr class="memdesc:a94c1accbfe62ec25a06a7b6a286088f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer to hold the numbers. <br /></td></tr>
<tr class="separator:a94c1accbfe62ec25a06a7b6a286088f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4777b3b1dec413e4243dfc50c75d6a1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#ab4777b3b1dec413e4243dfc50c75d6a1">g_auiBroadcastAddress</a> []</td></tr>
<tr class="memdesc:ab4777b3b1dec413e4243dfc50c75d6a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The broadcast address.  <br /></td></tr>
<tr class="separator:ab4777b3b1dec413e4243dfc50c75d6a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df0f7e92c63c31e41094488af5a7959"><td class="memItemLeft" align="right" valign="top"><a id="a0df0f7e92c63c31e41094488af5a7959" name="a0df0f7e92c63c31e41094488af5a7959"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>g_iFlag</b> = 0</td></tr>
<tr class="memdesc:a0df0f7e92c63c31e41094488af5a7959"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag variable. <br /></td></tr>
<tr class="separator:a0df0f7e92c63c31e41094488af5a7959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6dbbc0044c27b5ef879fcb3da362814"><td class="memItemLeft" align="right" valign="top"><a id="aa6dbbc0044c27b5ef879fcb3da362814" name="aa6dbbc0044c27b5ef879fcb3da362814"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>g_ulTime</b></td></tr>
<tr class="memdesc:aa6dbbc0044c27b5ef879fcb3da362814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time variable. <br /></td></tr>
<tr class="separator:aa6dbbc0044c27b5ef879fcb3da362814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8254261c20ccbab865ebbf1a5bfa133d"><td class="memItemLeft" align="right" valign="top"><a id="a8254261c20ccbab865ebbf1a5bfa133d" name="a8254261c20ccbab865ebbf1a5bfa133d"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>g_ulTimeLast</b></td></tr>
<tr class="memdesc:a8254261c20ccbab865ebbf1a5bfa133d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time variable. <br /></td></tr>
<tr class="separator:a8254261c20ccbab865ebbf1a5bfa133d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f78fe33bcc25d17e03504662fc891d1"><td class="memItemLeft" align="right" valign="top"><a id="a9f78fe33bcc25d17e03504662fc891d1" name="a9f78fe33bcc25d17e03504662fc891d1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>g_bService</b> = true</td></tr>
<tr class="memdesc:a9f78fe33bcc25d17e03504662fc891d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service flag. <br /></td></tr>
<tr class="separator:a9f78fe33bcc25d17e03504662fc891d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98acb96a20d03dcafbaa78d8cd638f99"><td class="memItemLeft" align="right" valign="top"><a id="a98acb96a20d03dcafbaa78d8cd638f99" name="a98acb96a20d03dcafbaa78d8cd638f99"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>g_iHalt</b> = 0</td></tr>
<tr class="memdesc:a98acb96a20d03dcafbaa78d8cd638f99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Halt variable. <br /></td></tr>
<tr class="separator:a98acb96a20d03dcafbaa78d8cd638f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1463333605f7af7ffc98307cb04a98"><td class="memItemLeft" align="right" valign="top"><a id="a4d1463333605f7af7ffc98307cb04a98" name="a4d1463333605f7af7ffc98307cb04a98"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>g_iService</b> = 0</td></tr>
<tr class="memdesc:a4d1463333605f7af7ffc98307cb04a98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service variable. <br /></td></tr>
<tr class="separator:a4d1463333605f7af7ffc98307cb04a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c10b3066a5583184977ad55f889ae7"><td class="memItemLeft" align="right" valign="top"><a id="a86c10b3066a5583184977ad55f889ae7" name="a86c10b3066a5583184977ad55f889ae7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>g_iInitial</b> = 0</td></tr>
<tr class="memdesc:a86c10b3066a5583184977ad55f889ae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial variable. <br /></td></tr>
<tr class="separator:a86c10b3066a5583184977ad55f889ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f54f2f6e96007e29f247ff0d11d3fe"><td class="memItemLeft" align="right" valign="top"><a id="a54f54f2f6e96007e29f247ff0d11d3fe" name="a54f54f2f6e96007e29f247ff0d11d3fe"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>g_iStopID</b> = 2</td></tr>
<tr class="memdesc:a54f54f2f6e96007e29f247ff0d11d3fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique ID of the operating stop. <br /></td></tr>
<tr class="separator:a54f54f2f6e96007e29f247ff0d11d3fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8be08e1d58b89e51dcc589cfcebd74"><td class="memItemLeft" align="right" valign="top"><a id="aaa8be08e1d58b89e51dcc589cfcebd74" name="aaa8be08e1d58b89e51dcc589cfcebd74"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>g_iBusNum</b> = 1</td></tr>
<tr class="memdesc:aaa8be08e1d58b89e51dcc589cfcebd74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of buses. <br /></td></tr>
<tr class="separator:aaa8be08e1d58b89e51dcc589cfcebd74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e322c2f9205caac54f4b04dd651caae"><td class="memItemLeft" align="right" valign="top"><a id="a8e322c2f9205caac54f4b04dd651caae" name="a8e322c2f9205caac54f4b04dd651caae"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>g_iStopNum</b> = 2</td></tr>
<tr class="memdesc:a8e322c2f9205caac54f4b04dd651caae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of stops. <br /></td></tr>
<tr class="separator:a8e322c2f9205caac54f4b04dd651caae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e02b2da0c970dcf7b2eae643d9af56"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a46e02b2da0c970dcf7b2eae643d9af56">g_aiEstimated</a> [<a class="el" href="_bus_stop_b_8ino.html#aaa8be08e1d58b89e51dcc589cfcebd74">g_iBusNum</a>]</td></tr>
<tr class="separator:a46e02b2da0c970dcf7b2eae643d9af56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbb0b04028f51225d17822213cda7871"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#afbb0b04028f51225d17822213cda7871">g_aiScheduled</a> [<a class="el" href="_bus_stop_b_8ino.html#a8e322c2f9205caac54f4b04dd651caae">g_iStopNum</a>][<a class="el" href="_bus_stop_b_8ino.html#a8e322c2f9205caac54f4b04dd651caae">g_iStopNum</a>]</td></tr>
<tr class="separator:afbb0b04028f51225d17822213cda7871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d7e28929914287b620f5b31e3963f75"><td class="memItemLeft" align="right" valign="top"><a id="a0d7e28929914287b620f5b31e3963f75" name="a0d7e28929914287b620f5b31e3963f75"></a>
esp_now_peer_info_t&#160;</td><td class="memItemRight" valign="bottom"><b>g_peerInfo</b></td></tr>
<tr class="memdesc:a0d7e28929914287b620f5b31e3963f75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peer information. <br /></td></tr>
<tr class="separator:a0d7e28929914287b620f5b31e3963f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace52711cba2509c5cf5a9c8cc013f31c"><td class="memItemLeft" align="right" valign="top"><a id="ace52711cba2509c5cf5a9c8cc013f31c" name="ace52711cba2509c5cf5a9c8cc013f31c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>g_bHalt</b> = false</td></tr>
<tr class="memdesc:ace52711cba2509c5cf5a9c8cc013f31c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Halt flag. <br /></td></tr>
<tr class="separator:ace52711cba2509c5cf5a9c8cc013f31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84dbf00f9809767fea8867b2a2fc6a13"><td class="memItemLeft" align="right" valign="top"><a id="a84dbf00f9809767fea8867b2a2fc6a13" name="a84dbf00f9809767fea8867b2a2fc6a13"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>g_iShowTime</b> = 0</td></tr>
<tr class="memdesc:a84dbf00f9809767fea8867b2a2fc6a13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Show time variable. <br /></td></tr>
<tr class="separator:a84dbf00f9809767fea8867b2a2fc6a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ac7a57b799d652b223b8cad2cc3096"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a39ac7a57b799d652b223b8cad2cc3096">g_auiBusMAC</a> []</td></tr>
<tr class="memdesc:a39ac7a57b799d652b223b8cad2cc3096"><td class="mdescLeft">&#160;</td><td class="mdescRight">MAC address of the receiver (bus).  <br /></td></tr>
<tr class="separator:a39ac7a57b799d652b223b8cad2cc3096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a123eb982a1926272d793c19be8cbd2e6"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_bus_stop_b_8ino.html#a123eb982a1926272d793c19be8cbd2e6">g_bButton</a></td></tr>
<tr class="memdesc:a123eb982a1926272d793c19be8cbd2e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate if the button is pressed.  <br /></td></tr>
<tr class="separator:a123eb982a1926272d793c19be8cbd2e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99ae7ab54d158446051bfe5f44ee3784"><td class="memItemLeft" align="right" valign="top"><a id="a99ae7ab54d158446051bfe5f44ee3784" name="a99ae7ab54d158446051bfe5f44ee3784"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>g_iButtonPin</b> = 0</td></tr>
<tr class="memdesc:a99ae7ab54d158446051bfe5f44ee3784"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pin connected to the button. <br /></td></tr>
<tr class="separator:a99ae7ab54d158446051bfe5f44ee3784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a018a50f6a682377e8ee8a931160f258d"><td class="memItemLeft" align="right" valign="top"><a id="a018a50f6a682377e8ee8a931160f258d" name="a018a50f6a682377e8ee8a931160f258d"></a>
<a class="el" href="structstruct__message.html">struct_message</a>&#160;</td><td class="memItemRight" valign="bottom"><b>g_SendData</b></td></tr>
<tr class="memdesc:a018a50f6a682377e8ee8a931160f258d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data to send. <br /></td></tr>
<tr class="separator:a018a50f6a682377e8ee8a931160f258d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf13da0ba5ecbc7102e3a21a2da50bfc"><td class="memItemLeft" align="right" valign="top"><a id="abf13da0ba5ecbc7102e3a21a2da50bfc" name="abf13da0ba5ecbc7102e3a21a2da50bfc"></a>
<a class="el" href="structstruct__message.html">struct_message</a>&#160;</td><td class="memItemRight" valign="bottom"><b>g_RecieveData</b></td></tr>
<tr class="memdesc:abf13da0ba5ecbc7102e3a21a2da50bfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data received. <br /></td></tr>
<tr class="separator:abf13da0ba5ecbc7102e3a21a2da50bfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a04988e7d812ffad244fd37a708b92536" name="a04988e7d812ffad244fd37a708b92536"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04988e7d812ffad244fd37a708b92536">&#9670;&#160;</a></span>HARDWARE_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HARDWARE_TYPE&#160;&#160;&#160;    MD_MAX72XX::PAROLA_HW</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The type of hardware being used. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2f6799cc71dd2e1b8819f1980b317329" name="a2f6799cc71dd2e1b8819f1980b317329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f6799cc71dd2e1b8819f1980b317329">&#9670;&#160;</a></span>handleInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRAM_ATTR handleInterrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt service routine for handling button press. </p>
<p>This function is called when an interrupt is triggered. It sets the button flag to true.</p>
<dl class="section note"><dt>Note</dt><dd>This function is placed in IRAM, which is a region of RAM that is directly accessible by the CPU. </dd></dl>

</div>
</div>
<a id="afe461d27b9c48d5921c00d521181f12f" name="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&#160;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main loop function for the Arduino sketch. </p>
<p>This function continuously checks if the button is pressed and sends a message if it is. It also updates the estimated time of arrival and displays it on the screen. If the bus is halted or out of service, it displays the appropriate message. </p>

</div>
</div>
<a id="acefe9c2135b3617fe25eff3897551c87" name="acefe9c2135b3617fe25eff3897551c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acefe9c2135b3617fe25eff3897551c87">&#9670;&#160;</a></span>OnDataRecv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OnDataRecv </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pucMac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pucIncomingData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function that is executed when data is received. </p>
<p>This function handles the incoming data and performs different actions based on the received message. It updates the status of the bus (halted, moving, out of service, etc.) and the estimated time of arrival.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>The MAC address of the sender. </td></tr>
    <tr><td class="paramname">incomingData</td><td>The incoming data. </td></tr>
    <tr><td class="paramname">len</td><td>The length of the incoming data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7eee811cfe0d4a8ad6ddb6e6b6ec6027" name="a7eee811cfe0d4a8ad6ddb6e6b6ec6027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eee811cfe0d4a8ad6ddb6e6b6ec6027">&#9670;&#160;</a></span>OnDataSent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OnDataSent </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pucMacAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_now_send_status_t&#160;</td>
          <td class="paramname"><em>eStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function that is executed when data is sent. </p>
<p>This function prints the status of the last packet sent. It prints "Delivery Success" if the packet was sent successfully, otherwise it prints "Delivery Fail".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac_addr</td><td>The MAC address of the receiver. </td></tr>
    <tr><td class="paramname">status</td><td>The status of the send operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3971e219fb69093f8cbc4484bd36a080" name="a3971e219fb69093f8cbc4484bd36a080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3971e219fb69093f8cbc4484bd36a080">&#9670;&#160;</a></span>scroll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scroll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scrolls the text on the display. </p>
<p>This function animates the display to scroll the text. It resets the display after each scroll. </p>

</div>
</div>
<a id="a5d625a83130ab1624dd3305610963b08" name="a5d625a83130ab1624dd3305610963b08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d625a83130ab1624dd3305610963b08">&#9670;&#160;</a></span>send_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_data </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pucPeerAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pucData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>uiLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data to a peer device over ESP-NOW. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peer_addr</td><td>The MAC address of the peer device. </td></tr>
    <tr><td class="paramname">data</td><td>The data to be sent. </td></tr>
    <tr><td class="paramname">len</td><td>The length of the data.</td></tr>
  </table>
  </dd>
</dl>
<p>This function sends data to a peer device over ESP-NOW. It prints a success message to the serial port if the data is sent successfully, otherwise it prints an error message. </p>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d" name="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup function for the Arduino sketch. </p>
<p>This function initializes the serial monitor, sets the device as a Wi-Fi Station, initializes ESP-NOW, registers callback functions, sets up the button interrupt, and initializes the display. </p>

</div>
</div>
<a id="a8586a1977845ff45a0ee0d5852763e81" name="a8586a1977845ff45a0ee0d5852763e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8586a1977845ff45a0ee0d5852763e81">&#9670;&#160;</a></span>UpdateEstimated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UpdateEstimated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the estimated time of arrival for all buses and returns the minimum. </p>
<dl class="section return"><dt>Returns</dt><dd>The minimum estimated time of arrival.</dd></dl>
<p>This function decrements the estimated times and takes the minimum. </p>

</div>
</div>
<a id="ad2b722f4799b9a1b4cffc1b5876bc367" name="ad2b722f4799b9a1b4cffc1b5876bc367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2b722f4799b9a1b4cffc1b5876bc367">&#9670;&#160;</a></span>UpdateInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpdateInterrupt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iBusIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iBusStop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iStopID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the estimated time of arrival for a bus at a stop. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nBusIndex</td><td>The index of the bus. </td></tr>
    <tr><td class="paramname">nBusStop</td><td>The index of the bus stop. </td></tr>
    <tr><td class="paramname">nStopID</td><td>The ID of the stop.</td></tr>
  </table>
  </dd>
</dl>
<p>This function updates the scheduled times for the given bus when an interrupt occurs. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a46e02b2da0c970dcf7b2eae643d9af56" name="a46e02b2da0c970dcf7b2eae643d9af56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46e02b2da0c970dcf7b2eae643d9af56">&#9670;&#160;</a></span>g_aiEstimated</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int g_aiEstimated[<a class="el" href="_bus_stop_b_8ino.html#aaa8be08e1d58b89e51dcc589cfcebd74">g_iBusNum</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Array to store estimated times in seconds. </p>

</div>
</div>
<a id="afbb0b04028f51225d17822213cda7871" name="afbb0b04028f51225d17822213cda7871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbb0b04028f51225d17822213cda7871">&#9670;&#160;</a></span>g_aiScheduled</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int g_aiScheduled[<a class="el" href="_bus_stop_b_8ino.html#a8e322c2f9205caac54f4b04dd651caae">g_iStopNum</a>][<a class="el" href="_bus_stop_b_8ino.html#a8e322c2f9205caac54f4b04dd651caae">g_iStopNum</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {100, 50}, {50, 100}}</div>
</div><!-- fragment --><p>2D array to store scheduled times in seconds. </p>

</div>
</div>
<a id="ab4777b3b1dec413e4243dfc50c75d6a1" name="ab4777b3b1dec413e4243dfc50c75d6a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4777b3b1dec413e4243dfc50c75d6a1">&#9670;&#160;</a></span>g_auiBroadcastAddress</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t g_auiBroadcastAddress[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    0xEC, 0x64, 0xC9,</div>
<div class="line">    0x86, 0x13, 0xC0}</div>
</div><!-- fragment -->
<p>The broadcast address. </p>

</div>
</div>
<a id="a39ac7a57b799d652b223b8cad2cc3096" name="a39ac7a57b799d652b223b8cad2cc3096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39ac7a57b799d652b223b8cad2cc3096">&#9670;&#160;</a></span>g_auiBusMAC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t g_auiBusMAC[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    0xE8, 0x6B, 0xEA, 0xD4,</div>
<div class="line">    0x27, 0x7C}</div>
</div><!-- fragment -->
<p>MAC address of the receiver (bus). </p>

</div>
</div>
<a id="a123eb982a1926272d793c19be8cbd2e6" name="a123eb982a1926272d793c19be8cbd2e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a123eb982a1926272d793c19be8cbd2e6">&#9670;&#160;</a></span>g_bButton</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool g_bButton</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">    <span class="keyword">false</span></div>
</div><!-- fragment -->
<p>Flag to indicate if the button is pressed. </p>

</div>
</div>
<a id="aacd729c61a1ec29fa63624253522b090" name="aacd729c61a1ec29fa63624253522b090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacd729c61a1ec29fa63624253522b090">&#9670;&#160;</a></span>g_bNewMessageAvailable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool g_bNewMessageAvailable</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">    <span class="keyword">true</span></div>
</div><!-- fragment -->
<p>Flag to check if a new message is available. </p>

</div>
</div>
<a id="a373b79a402969f81b41e2b167fc2e096" name="a373b79a402969f81b41e2b167fc2e096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a373b79a402969f81b41e2b167fc2e096">&#9670;&#160;</a></span>g_eScrollAlign</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">textPosition_t g_eScrollAlign</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">    PA_LEFT</div>
</div><!-- fragment -->
<p>The alignment of the scroll. </p>

</div>
</div>
<a id="a05438a16b4a6471e2a62f7d75de8dc3f" name="a05438a16b4a6471e2a62f7d75de8dc3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05438a16b4a6471e2a62f7d75de8dc3f">&#9670;&#160;</a></span>g_eScrollEffect</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">textEffect_t g_eScrollEffect</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">    PA_SCROLL_LEFT</div>
</div><!-- fragment -->
<p>The effect of the scroll. </p>

</div>
</div>
<a id="a71aeeaabe068a1e1da5389d40c3ac9dc" name="a71aeeaabe068a1e1da5389d40c3ac9dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71aeeaabe068a1e1da5389d40c3ac9dc">&#9670;&#160;</a></span>g_szCurMessage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char g_szCurMessage[<a class="el" href="_bus_stop_a_8ino.html#a6821bafc3c88dfb2e433a095df9940c6">BUF_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <span class="stringliteral">&quot;&quot;</span>}</div>
</div><!-- fragment -->
<p>The current message. </p>

</div>
</div>
<a id="acb895d9f9adb03cf238f60e4e6507458" name="acb895d9f9adb03cf238f60e4e6507458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb895d9f9adb03cf238f60e4e6507458">&#9670;&#160;</a></span>g_szNewMessage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char g_szNewMessage[<a class="el" href="_bus_stop_a_8ino.html#a6821bafc3c88dfb2e433a095df9940c6">BUF_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <span class="stringliteral">&quot;OUT OF SERVICE.&quot;</span>}</div>
</div><!-- fragment -->
<p>The new message. </p>

</div>
</div>
<a id="a487b5baa75ea6db15433aa58c4a833c9" name="a487b5baa75ea6db15433aa58c4a833c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a487b5baa75ea6db15433aa58c4a833c9">&#9670;&#160;</a></span>g_uiScrollPause</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t g_uiScrollPause</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">    200</div>
</div><!-- fragment -->
<p>The pause time of the scroll in milliseconds. </p>

</div>
</div>
<a id="a493e81ea8983e0f797dc47c3f65cf9c0" name="a493e81ea8983e0f797dc47c3f65cf9c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a493e81ea8983e0f797dc47c3f65cf9c0">&#9670;&#160;</a></span>P</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MD_Parola P</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= MD_Parola(</div>
<div class="line">    <a class="code hl_define" href="_bus_stop_b_8ino.html#a04988e7d812ffad244fd37a708b92536">HARDWARE_TYPE</a>, <a class="code hl_define" href="_bus_stop_b_8ino.html#adad67fe595ea440c8f8247ec2cddf070">DATA_PIN</a>, <a class="code hl_define" href="_bus_stop_b_8ino.html#a40f496979bb9d7199cca5e0ce136e698">CLK_PIN</a>, <a class="code hl_define" href="_bus_stop_b_8ino.html#abfcf05153ddbd63d5aff5d018867cc19">CS_PIN</a>,</div>
<div class="line">    <a class="code hl_define" href="_bus_stop_b_8ino.html#a4e132cfaa78353e3af1474a86b2dd535">MAX_DEVICES</a>)</div>
<div class="ttc" id="a_bus_stop_b_8ino_html_a04988e7d812ffad244fd37a708b92536"><div class="ttname"><a href="_bus_stop_b_8ino.html#a04988e7d812ffad244fd37a708b92536">HARDWARE_TYPE</a></div><div class="ttdeci">#define HARDWARE_TYPE</div><div class="ttdef"><b>Definition</b> BusStopB.ino:15</div></div>
<div class="ttc" id="a_bus_stop_b_8ino_html_a40f496979bb9d7199cca5e0ce136e698"><div class="ttname"><a href="_bus_stop_b_8ino.html#a40f496979bb9d7199cca5e0ce136e698">CLK_PIN</a></div><div class="ttdeci">#define CLK_PIN</div><div class="ttdoc">The pin for the clock signal.</div><div class="ttdef"><b>Definition</b> BusStopB.ino:11</div></div>
<div class="ttc" id="a_bus_stop_b_8ino_html_a4e132cfaa78353e3af1474a86b2dd535"><div class="ttname"><a href="_bus_stop_b_8ino.html#a4e132cfaa78353e3af1474a86b2dd535">MAX_DEVICES</a></div><div class="ttdeci">#define MAX_DEVICES</div><div class="ttdoc">The maximum number of devices.</div><div class="ttdef"><b>Definition</b> BusStopB.ino:9</div></div>
<div class="ttc" id="a_bus_stop_b_8ino_html_abfcf05153ddbd63d5aff5d018867cc19"><div class="ttname"><a href="_bus_stop_b_8ino.html#abfcf05153ddbd63d5aff5d018867cc19">CS_PIN</a></div><div class="ttdeci">#define CS_PIN</div><div class="ttdoc">The pin for the chip select signal.</div><div class="ttdef"><b>Definition</b> BusStopB.ino:13</div></div>
<div class="ttc" id="a_bus_stop_b_8ino_html_adad67fe595ea440c8f8247ec2cddf070"><div class="ttname"><a href="_bus_stop_b_8ino.html#adad67fe595ea440c8f8247ec2cddf070">DATA_PIN</a></div><div class="ttdeci">#define DATA_PIN</div><div class="ttdoc">The pin for the data signal.</div><div class="ttdef"><b>Definition</b> BusStopB.ino:12</div></div>
</div><!-- fragment -->
<p>Instance of the MD_Parola class. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
